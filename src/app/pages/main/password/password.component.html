<main class="flex flex-col w-full">
  <div class="w-full max-w-md flex flex-col gap-12">
    <!-- <h2 class="text-2xl font-semibold !mb-8 !text-gray-600">Change password</h2> -->
    <div class="flex gap-6">
        <!-- <app-icon class="cursor-pointer" name="arrow-left"></app-icon> -->
         <h1 class="text-2xl font-bold !text-gray-600">Change password</h1>
    </div>

    <form [formGroup]="passwordForm" (ngSubmit)="submit()" novalidate>

      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 mb-1 !text-gray-500">Current password</label>
        <nz-input-group nzPrefixIcon="lock">
          <input nz-input [type]="showOld ? 'text' : 'password'" formControlName="old_password" class="w-full" placeholder="Enter current password" />
          <ng-container nzSuffix>
            <i nz-icon [nzType]="showOld ? 'eye' : 'eye-invisible'" (click)="toggleShow('old')" class="cursor-pointer text-gray-500"></i>
          </ng-container>
        </nz-input-group>
        <p *ngIf="passwordForm.get('old_password')?.touched && passwordForm.get('old_password')?.hasError('required')" class="text-red-500 text-sm mt-1">Current password is required</p>
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-700 mb-1 !text-gray-500">New password</label>
        <nz-input-group nzPrefixIcon="lock">
          <input nz-input [type]="showNew ? 'text' : 'password'" formControlName="new_password" class="w-full" placeholder="Enter new password (min 8 chars)" />
          <ng-container nzSuffix>
            <i nz-icon [nzType]="showNew ? 'eye' : 'eye-invisible'" (click)="toggleShow('new')" class="cursor-pointer text-gray-500"></i>
          </ng-container>
        </nz-input-group>
        <p *ngIf="passwordForm.get('new_password')?.touched && passwordForm.get('new_password')?.hasError('required')" class="text-red-500 text-sm mt-1">New password is required</p>
        <p *ngIf="passwordForm.get('new_password')?.touched && passwordForm.get('new_password')?.hasError('minlength')" class="text-red-500 text-sm mt-1">Password must be at least 8 characters</p>
      </div>

      <div class="mb-6">
        <label class="block text-sm font-medium text-gray-700 mb-1 !text-gray-500">Confirm new password</label>
        <nz-input-group nzPrefixIcon="lock">
          <input nz-input [type]="showConfirm ? 'text' : 'password'" formControlName="confirm_password" class="w-full" placeholder="Repeat new password" />
          <ng-container nzSuffix>
            <i nz-icon [nzType]="showConfirm ? 'eye' : 'eye-invisible'" (click)="toggleShow('confirm')" class="cursor-pointer text-gray-500"></i>
          </ng-container>
        </nz-input-group>
        <p *ngIf="passwordForm.get('confirm_password')?.touched && passwordForm.get('confirm_password')?.hasError('required')" class="text-red-500 text-sm mt-1">Please confirm new password</p>
        <p *ngIf="passwordForm.get('confirm_password')?.touched && passwordForm.get('confirm_password')?.hasError('mismatch')" class="text-red-500 text-sm mt-1">Passwords do not match</p>
      </div>

      <div class="flex items-center justify-center">
        <!-- <button nz-button nzType="default" class="px-4 py-2 text-sm !bg-default !rounded-full" type="button">Cancel</button> -->

        <button nz-button nzType="primary"  class="!px-6 py-4 text-sm !bg-primary !rounded-full !border-none !text-white" type="submit">Change password</button>
      </div>

    </form>
  </div>
</main>
