<div class="flex flex-col items-center justify-center min-h-screen w-full bg-cover bg-center bg-no-repeat px-4 sm:px-6 md:px-8" style="background-image: url('/images/login-background.jpg')">
  <div class="absolute inset-0 bg-black/40"></div>
  <div class="bg-white px-4 sm:px-6 md:px-10 py-8 sm:py-16 md:py-[157px] rounded-[10px] w-full max-w-[90%] sm:max-w-[500px] md:max-w-[683px] relative z-10 my-4">
    <div class="login-modal">
      <div class="w-full flex flex-col items-center justify-center gap-y-3">
        <h1 class="text-2xl sm:text-3xl md:text-[32px] leading-tight md:leading-[40px] font-medium text-center">User Login</h1>
        <p class="text-sm sm:text-medium text-[#7A7A7A] text-center">Enter login details below</p>
      </div>

      <div *ngIf="errorMessage" class="global-text-primary mt-4">
        {{ errorMessage }}
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4 sm:gap-6 md:gap-8 mt-6">
        <div class="flex flex-col gap-2">
          <label for="email" class="text-sm sm:text-medium text-[#4F4F4F] leading-[100%] font-medium">Username</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            class="border rounded-xl sm:rounded-2xl px-4 sm:px-6 py-3 sm:py-[20px] text-sm sm:text-[16px] leading-[100%] text-[#7A7A7A] w-full border-[#EBEBEB]"
            [class.error]="
              hasError('email', 'required') ||
              hasError('email', 'minlength')
            "
            placeholder="Enter your email"
            [disabled]="isLoading"
          />
          <div *ngIf="hasError('email', 'required')" class="text-primary text-xs sm:text-sm">
            email is required
          </div>
          <div *ngIf="hasError('email', 'minlength')" class="text-primary text-xs sm:text-sm">
            email must be at least 3 characters
          </div>
        </div>

        <div class="flex flex-col gap-2">
          <label for="password" class="text-sm sm:text-medium text-[#4F4F4F] leading-[100%] font-medium">Password</label>
          <div class="relative">
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              formControlName="password"
              class="border rounded-xl sm:rounded-2xl px-4 sm:px-6 py-3 sm:py-[20px] text-sm sm:text-[16px] leading-[100%] text-[#7A7A7A] w-full border-[#EBEBEB]"
              [class.error]="
                hasError('password', 'required') ||
                hasError('password', 'minlength')
              "
              placeholder="Enter your password"
              [disabled]="isLoading"
            />
            <button
              type="button"
              class="absolute right-4 sm:right-6 top-1/2 -translate-y-1/2 z-10 cursor-pointer"
              (click)="togglePasswordVisibility()"
              [disabled]="isLoading"
              [attr.aria-label]="
                showPassword ? 'Hide password' : 'Show password'
              "
            >
              <svg
                *ngIf="!showPassword"
                class="w-4 h-4 sm:w-5 sm:h-5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              <svg
                *ngIf="showPassword"
                class="w-4 h-4 sm:w-5 sm:h-5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"
                ></path>
                <line x1="1" y1="1" x2="23" y2="23"></line>
              </svg>
            </button>
          </div>
          <div *ngIf="hasError('password', 'required')" class="text-primary text-xs sm:text-sm">
            Password is required
          </div>
          <div *ngIf="hasError('password', 'minlength')" class="text-primary text-xs sm:text-sm">
            Password must be at least 6 characters
          </div>
        </div>

        <div class="flex w-full justify-end">
          <a href="#" class="!text-primary text-sm sm:text-base">Forgot Password?</a>
        </div>

        <button
          type="submit"
          class="rounded-full bg-primary !text-white py-3 sm:py-[20px] outline-0 text-sm sm:text-base font-medium"
          [disabled]="!loginForm.valid || isLoading"
          [class.loading]="isLoading"
        >
          <span *ngIf="!isLoading">Login</span>
          <span *ngIf="isLoading" class="loading-text">Logging in...</span>
        </button>
      </form>
    </div>
  </div>
</div>
